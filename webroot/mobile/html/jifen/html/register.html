<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="format-detection" content="telephone=no, email=no" />
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
        <title>换积分了-注册</title>
        <link rel="stylesheet" type="text/css" href="../css/basic.css"/>
        <link rel="stylesheet" type="text/css" href="../css/style.css"/>
        <script src="../js/zepto.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../js/style.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" src="../js/des.js"></script>
    </head>
    <body>
        <header>
            <div class="inner">
                <h1 class="logintitle" style="float: left;width: 1.2rem;" onclick="history.go(-1)"></h1><h1>注册</h1>
            </div>
        </header>
        <div class="wraper">
            <div class="login_box">
                <div class="inner">
                    <ul>
                        <li class="username">
                            <div class="flex"><span>账</span><span>号：</span></div>
                            <input type="number" id="username"  placeholder="请输入手机号" style="line-height: 21px;" />
                        </li>
                        <li class="validate flexbile" >
                            <div class="validate_left">
                                <span>验证码：</span>
                                <input type="number" id="vcode" placeholder="输入验证码" />
                            </div>
                            <button id="getvalide" class="validecode">获取验证码</button>
                        </li>
                        <li class="validate">
                            <div class="flex"><span>密</span><span>码：</span></div>
                            <input type="password" id="valid" placeholder="请输入密码" style="line-height: 21px;" />
                        </li>
                    </ul>
                    <a href="javascript:void(0);" class="btn bg_items mt33" id="registerbtn">注 册</a>
                </div>
            </div>
            <div class="tips" style="display: none;">
                <div class="tips_des ft0">
                    <h1 id="msg" style="color: #525151;" class="warning">系统错误</h1>
                    <p id="chargeTips"></p>
                    <span class="closed"></span>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            $('#registerbtn').click(function () {
                $.func.register($('#username').val(), $('#valid').val(), $('#vcode').val());
            });
            $('#getvalide').click(function () {
                if($('#username').val() == ''){
                    alert('请输入手机号码');
                    return;
                }
                var $that = $(this);
                if($that.hasClass('noTap')){
                    return false;
                }
                $that.addClass('noTap');
                $.func.getVcode($('#username').val(), 1);
                $that.addClass('validebg').html('倒计时60s');
                var second = 60;
                var timer = setInterval(function () {
                    $that.html('倒计时' + (--second) + 's');
                    if (second == '0') {
                        clearInterval(timer);
                        $that.removeClass('validebg').html('重新获取验证码');
                        $that.removeClass('noTap');
                    }
                }, 1000);
            });
            $('.closed').click(function(){
                $('.tips').hide();
            });
        </script>
    </body>
</html>
